<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>

    <link rel="stylesheet" href="css/style.css">

    <link rel="icon" href="img/icon.jpg">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.js"></script>
    <script>
        function pageLoad(){
            console.log("Invoked pageLoad()");
            drawGraph();
        }

        function drawGraph(){
            console.log("invoked drawGraph()");

            var data = [{"gender": "male", "score" : 3}, {"gender": "female", "score" : 13}];  //JSON Array

            var labels = data.map(function (e) {
                return e.gender;
            });
            var scores = data.map(function (e) {
                return e.score;
            });

            var ctx = document.getElementById("myChart").getContext("2d");
            var config = {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Average scores by gender',  //title of graph
                        data: scores,
                        backgroundColor: 'rgba(0, 119, 204, 0.3)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                },

            };

            var chart= new Chart(ctx, config);
        }


        function logout(){
            console.log("logout - remove cookies and redirect to login page");
            Cookies.remove("sessionToken");
            window.location.href = "login.html";
        }
    </script>
</head>
<body onload="drawGraph()">
<div class="topnav">
    <a class="a" href="profile.html">Profile</a>
    <a class="a" href="question1.html">Questionnaire</a>
    <div class="topnav-centered">
        <a class="a" href="index.html">Mentality</a>
    </div>
    <div class="topnav-right">
        <a class="a" onclick="logout()">Logout</a>
    </div>
    <input type="text" placeholder="Search..">
</div>

<br>

<canvas id="myChart" style="height: 50vh"></canvas>
</body>
</html>